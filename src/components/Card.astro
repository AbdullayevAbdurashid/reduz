---
import type { BlogPost } from "../types/blog";

interface Props {
  post: BlogPost;
}

const { post } = Astro.props;
const imageUrl = post.featured_image
  ? `${import.meta.env.PUBLIC_POCKETBASE_URL}/api/files/${post.collectionId}/${post.id}/${post.featured_image}`
  : "assets/img/default-blog.png"; // Fallback image
---

<div
  class="et-blog bg-white border border-[#E5E5E5] rounded-[8px] p-[24px] lg:p-[20px] sm:p-[18px] relative group"
>
  <div class="ed-blog__img relative z-[1] mb-[45px]">
    <div class="overflow-hidden rounded-[6px]">
      <img
        src={imageUrl}
        alt={post.title}
        class="w-[322px] h-[216px] aspect-[37/24] object-cover transition duration-[400ms] group-hover:scale-105"
      />
    </div>
  </div>

  <div class="et-blog__txt">
    <h4
      class="et-blog__title text-[20px] sm:text-[18px] font-semibold leading-[1.6] mb-[20px]"
    >
      <a href={`/blog/${post.slug}`} class="hover:text-edpurple">{post.title}</a
      >
    </h4>

    <a
      href={`/blog/${post.slug}`}
      class="font-semibold text-[16px] text-edgray inline-flex items-center gap-[10px] hover:text-edpurple"
      >Koproq o'qish
      <span><i class="fa-solid fa-arrow-right-long"></i></span></a
    >
  </div>
</div>
